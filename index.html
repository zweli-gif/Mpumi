<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mpumi — Growth Farm Master</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    :root{--brown:#5D4037;--pink:#D4A5A5;--cream:#FAF8F5;--white:#FFF;--success:#4A7C59;--danger:#8B4049;--warning:#C9A227;--info:#5C7A99}
    body{font-family:'Inter',sans-serif;background:var(--cream);color:var(--brown);margin:0;padding-bottom:80px}
    .header{background:var(--brown);padding:15px;color:var(--cream);font-family:'Playfair Display';border-bottom:3px solid var(--pink);display:flex;justify-content:space-between;position:sticky;top:0;z-index:100}
    .screen{display:none;padding:16px}.screen.active{display:block}
    .card{background:var(--white);border-radius:12px;padding:15px;margin-bottom:15px;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
    .fin-bar{height:18px; background:#eee; border-radius:10px; margin:8px 0; overflow:hidden}.fin-fill{height:100%; background:var(--success)}
    .nav{position:fixed;bottom:0;width:100%;background:var(--white);display:flex;border-top:1px solid #ddd;z-index:100}
    .nav-item{flex:1;padding:12px;text-align:center;font-size:9px;font-weight:700;cursor:pointer;color:var(--brown-light)}
    .nav-item.active{color:var(--brown); border-top:3px solid var(--pink)}
    table{width:100%; border-collapse:collapse; font-size:11px} th,td{text-align:left; padding:8px; border-bottom:1px solid #eee}
    input, select, textarea{width:100%; padding:10px; margin:5px 0; border:1px solid #ddd; border-radius:8px; font-family:'Inter'}
    .btn-save{background:var(--brown); color:white; padding:12px; border:none; border-radius:8px; width:100%; font-weight:700; margin-top:10px}
    .dep-box{background:rgba(201,162,39,0.1); border-left:4px solid var(--warning); padding:10px; margin-top:10px; font-size:11px}
  </style>
</head>
<body>

<header class="header"><span>MPUMI</span><span style="font-size:10px">v5.6 • LIVE ENTRY</span></header>

<div class="screen active" id="dash">
  <div class="card">
    <h3 style="font-family:'Playfair Display'">Jan Health: 70%</h3>
    <p style="font-size:10px">Target: R2M | Actual: R1.8M</p>
    <div class="fin-bar"><div class="fin-fill" style="width:90%"></div></div>
    <div style="display:flex; justify-content:space-between; font-size:9px; color:var(--brown-light)">
        <span>BD: 82%</span><span>Ventures: 65%</span><span>Finance: 68%</span>
    </div>
  </div>
</div>

<div class="screen" id="delivery">
  <div class="card">
    <h3 style="font-family:'Playfair Display'">Delivery Tracker</h3>
    <div id="project-list">
      <div style="border-bottom:1px solid #eee; padding-bottom:10px; margin-bottom:10px">
        <strong style="color:var(--pink)">Gates Foundation</strong>
        <table>
          <tr><td>Resource: Lindiwe</td><td>Hrs: 142/160</td><td>Margin: 18%</td></tr>
        </table>
        <div class="dep-box"><strong>Dependency:</strong> Naledi must clear G-Drive folder.</div>
      </div>
    </div>
    
    <hr style="border:0; border-top:1px solid #eee; margin:15px 0">
    
    <h4 style="font-size:13px">Add Project Entry</h4>
    <input type="text" id="clientName" placeholder="Client Name">
    <input type="text" id="projName" placeholder="Project Title">
    <input type="text" id="resource" placeholder="Resource (Teammate)">
    <div style="display:flex; gap:5px">
      <input type="number" id="clientRate" placeholder="Client Rate (R)">
      <input type="number" id="payRate" placeholder="Our Cost (R)">
    </div>
    <select id="dependency">
        <option value="">Select Dependency (Optional)</option>
        <option value="Zweli">Zweli (CEO)</option>
        <option value="Thabo">Thabo (CoS)</option>
        <option value="Lindiwe">Lindiwe (CFO)</option>
        <option value="Naledi">Naledi (EA)</option>
    </select>
    <textarea id="depNote" placeholder="2-line accountability description..." rows="2"></textarea>
    <button class="btn-save" onclick="addProject()">Commit to Delivery</button>
  </div>
</div>

<div class="screen" id="analysis">
  <div class="card">
    <h3 style="font-family:'Playfair Display'">Strategic Trends</h3>
    <p style="font-size:11px"><strong>Bottleneck:</strong> CEO Review Delay (Avg 19 days vs 14 day target).</p>
    <p style="font-size:11px"><strong>Margin:</strong> Projects at 18% (Above 15% Floor).</p>
  </div>
</div>

<nav class="nav">
  <div class="nav-item active" onclick="nav('dash')">DASH</div>
  <div class="nav-item" onclick="nav('delivery')">PROJECTS</div>
  <div class="nav-item" onclick="nav('analysis')">ANALYSIS</div>
</nav>

<script>
  function nav(id){
    document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.currentTarget.classList.add('active');
  }

  function addProject(){
    const client = document.getElementById('clientName').value;
    const resource = document.getElementById('resource').value;
    const cRate = document.getElementById('clientRate').value;
    const pRate = document.getElementById('payRate').value;
    const margin = Math.round(((cRate - pRate) / cRate) * 100);
    const dep = document.getElementById('dependency').value;
    const note = document.getElementById('depNote').value;

    const html = `<div style="border-bottom:1px solid #eee; padding-bottom:10px; margin-bottom:10px">
        <strong style="color:var(--pink)">${client}</strong>
        <table><tr><td>Resource: ${resource}</td><td>Margin: ${margin}%</td></tr></table>
        ${dep ? `<div class="dep-box"><strong>Dependency:</strong> ${dep} - ${note}</div>` : ''}
      </div>`;
    
    document.getElementById('project-list').innerHTML += html;
    alert("Project Loaded to Delivery Pipeline!");
  }
</script>
</body>
</html>
